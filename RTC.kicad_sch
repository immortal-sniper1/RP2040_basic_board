(kicad_sch (version 20211123) (generator eeschema)

  (uuid 50082213-59b8-4178-ae4c-b6bf80352015)

  (paper "A3")

  (title_block
    (title "RP2040 learning board with Li ion battery and RTC")
    (rev "1")
  )

  (lib_symbols
    (symbol "Device:Battery_Cell" (pin_numbers hide) (pin_names (offset 0) hide) (in_bom yes) (on_board yes)
      (property "Reference" "BT" (id 0) (at 2.54 2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "Battery_Cell" (id 1) (at 2.54 0 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (id 2) (at 0 1.524 90)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (id 3) (at 0 1.524 90)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "battery cell" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Single-cell battery" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "Battery_Cell_0_1"
        (rectangle (start -2.286 1.778) (end 2.286 1.524)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
        (rectangle (start -1.5748 1.1938) (end 1.4732 0.6858)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
        (polyline
          (pts
            (xy 0 0.762)
            (xy 0 0)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 1.778)
            (xy 0 2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.508 3.429)
            (xy 1.524 3.429)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 1.016 3.937)
            (xy 1.016 2.921)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "Battery_Cell_1_1"
        (pin passive line (at 0 5.08 270) (length 2.54)
          (name "+" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -2.54 90) (length 2.54)
          (name "-" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Device:Crystal_GND2_Small" (pin_names (offset 1.016) hide) (in_bom yes) (on_board yes)
      (property "Reference" "Y" (id 0) (at 0 5.08 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "Crystal_GND2_Small" (id 1) (at 0 3.175 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "quartz ceramic resonator oscillator" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Three pin crystal, GND on pin 2, small symbol" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "Crystal*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "Crystal_GND2_Small_0_1"
        (rectangle (start -0.762 -1.524) (end 0.762 1.524)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -1.27 -0.762)
            (xy -1.27 0.762)
          )
          (stroke (width 0.381) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 1.27 -0.762)
            (xy 1.27 0.762)
          )
          (stroke (width 0.381) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -1.27 -1.27)
            (xy -1.27 -1.905)
            (xy 1.27 -1.905)
            (xy 1.27 -1.27)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "Crystal_GND2_Small_1_1"
        (pin passive line (at -2.54 0 0) (length 1.27)
          (name "1" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 0.762 0.762))))
        )
        (pin passive line (at 0 -2.54 90) (length 0.635)
          (name "2" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 0.762 0.762))))
        )
        (pin passive line (at 2.54 0 180) (length 1.27)
          (name "3" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 0.762 0.762))))
        )
      )
    )
    (symbol "My_custom_lib:MCP79412" (in_bom yes) (on_board yes)
      (property "Reference" "U" (id 0) (at 0 8.89 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "MCP79412" (id 1) (at 0 5.08 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "Package_SO:TSSOP-8_4.4x3mm_P0.65mm" (id 2) (at 1.27 11.43 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "https://ro.mouser.com/datasheet/2/268/22266A-47240.pdf" (id 3) (at 1.27 7.62 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "RTC " (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "MCP79412_0_1"
        (rectangle (start -5.08 -6.35) (end 5.08 7.62)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "MCP79412_1_1"
        (pin output line (at -7.62 2.54 0) (length 2.54)
          (name "X1" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin output line (at -7.62 0 0) (length 2.54)
          (name "X2" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin output line (at -7.62 -2.54 0) (length 2.54)
          (name "BATT" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
        (pin output line (at -7.62 -5.08 0) (length 2.54)
          (name "VSS" (effects (font (size 1.27 1.27))))
          (number "4" (effects (font (size 1.27 1.27))))
        )
        (pin output line (at 7.62 -5.08 180) (length 2.54)
          (name "SDA" (effects (font (size 1.27 1.27))))
          (number "5" (effects (font (size 1.27 1.27))))
        )
        (pin output line (at 7.62 -2.54 180) (length 2.54)
          (name "SCL" (effects (font (size 1.27 1.27))))
          (number "6" (effects (font (size 1.27 1.27))))
        )
        (pin output line (at 7.62 0 180) (length 2.54)
          (name "MFP" (effects (font (size 1.27 1.27))))
          (number "7" (effects (font (size 1.27 1.27))))
        )
        (pin output line (at 7.62 2.54 180) (length 2.54)
          (name "VCC" (effects (font (size 1.27 1.27))))
          (number "8" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:+3V3" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (id 0) (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "+3V3" (id 1) (at 0 3.556 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "power-flag" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"+3V3\"" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "+3V3_0_1"
        (polyline
          (pts
            (xy -0.762 1.27)
            (xy 0 2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 0)
            (xy 0 2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 2.54)
            (xy 0.762 1.27)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "+3V3_1_1"
        (pin power_in line (at 0 0 90) (length 0) hide
          (name "+3V3" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:GND" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (id 0) (at 0 -6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "GND" (id 1) (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "power-flag" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"GND\" , ground" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "GND_0_1"
        (polyline
          (pts
            (xy 0 0)
            (xy 0 -1.27)
            (xy 1.27 -1.27)
            (xy 0 -2.54)
            (xy -1.27 -1.27)
            (xy 0 -1.27)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "GND_1_1"
        (pin power_in line (at 0 0 270) (length 0) hide
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 72.39 93.98) (diameter 0) (color 0 0 0 0)
    (uuid 58bcb7be-d6fc-44fe-98cc-4ab651432282)
  )

  (wire (pts (xy 72.39 93.98) (xy 80.01 93.98))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 0f015f70-b9be-4792-8502-9235baab7ad3)
  )
  (wire (pts (xy 64.77 93.98) (xy 72.39 93.98))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 175babef-1062-40f1-b84d-974a7c04386b)
  )
  (wire (pts (xy 64.77 83.185) (xy 64.77 83.82))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 33173f15-adb5-409c-b1eb-1ab11c58c01c)
  )
  (wire (pts (xy 60.325 80.645) (xy 60.325 80.01))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 36c837c5-f5e4-4c8e-8047-aba310d2e05a)
  )
  (wire (pts (xy 80.01 80.645) (xy 60.325 80.645))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 36eaaa5c-349a-4d02-98e2-a9ca1cebf08b)
  )
  (wire (pts (xy 64.77 93.98) (xy 64.77 91.44))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 4099d49e-75be-4100-b83d-b3b397a31cac)
  )
  (wire (pts (xy 54.61 77.47) (xy 54.61 78.74))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 5f84203c-fa50-419b-85c5-cf733ffaebb1)
  )
  (wire (pts (xy 80.01 83.185) (xy 64.77 83.185))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 9a888512-6985-4af5-be4d-b395e6bbfe4c)
  )
  (wire (pts (xy 80.01 93.98) (xy 80.01 85.725))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid ae29d924-a78e-4921-9076-cee955e9daff)
  )
  (wire (pts (xy 95.25 85.725) (xy 97.79 85.725))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid b2909be7-aad7-4e2c-9267-12e6f07b8d14)
  )
  (wire (pts (xy 60.325 74.93) (xy 80.01 74.93))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid b3f3b826-ad37-4009-a80e-3d8374cc0c38)
  )
  (wire (pts (xy 95.25 80.645) (xy 97.79 80.645))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid cb9b7848-9d34-4033-abc0-fb3ddbc2d6ee)
  )
  (wire (pts (xy 95.25 83.185) (xy 97.79 83.185))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid ccfee726-9431-4296-a038-27382eae58a1)
  )
  (wire (pts (xy 54.61 77.47) (xy 57.785 77.47))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid d94da1ee-94b8-4d45-8cc0-2cf23384e95b)
  )
  (wire (pts (xy 72.39 93.98) (xy 72.39 95.25))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid ec3e67b0-4243-4656-a7ba-dca7a98ee1e2)
  )
  (wire (pts (xy 80.01 74.93) (xy 80.01 78.105))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid f06e6b01-b7fe-465d-a080-7a947f0af6d0)
  )
  (wire (pts (xy 95.25 78.105) (xy 98.425 78.105))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid fc374fdc-3f2d-4746-8074-e289be5a5792)
  )

  (text "1,3-5,5V" (at 101.6 74.295 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 0a28241c-351f-48a8-a81e-e69625cd0400)
  )
  (text "3V cell normaly " (at 48.895 91.44 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 5f0db6fd-5092-485f-9f2b-d19c03fbefd5)
  )
  (text "MFP pin can be used as wake up" (at 107.95 81.28 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 8c56c6ba-0057-4349-a882-633a569afeeb)
  )
  (text "The RTCC registers are contained in addresses\n0x00h-0x1fh. 64 bytes of user-accessable SRAM are\nlocated in the address range 0x20-0x5"
    (at 53.975 106.68 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid bacbf2ef-5525-407a-8fed-d8417d003697)
  )

  (hierarchical_label "MFP" (shape input) (at 97.79 80.645 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 35a8a498-f6f5-4051-b120-0adb2dc15240)
  )
  (hierarchical_label "RTC_SDA" (shape input) (at 97.79 85.725 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid bb5151bc-5d6f-4aea-9a7d-332d6283f434)
  )
  (hierarchical_label "RTC_SCL" (shape input) (at 97.79 83.185 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid ff538bec-6218-4c88-a7f3-1b81bdf95136)
  )

  (symbol (lib_id "power:GND") (at 54.61 78.74 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 001a0253-6ecf-4292-a1f7-0f48edbbd35b)
    (property "Reference" "#PWR058" (id 0) (at 54.61 85.09 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (id 1) (at 54.61 83.82 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Footprint" "" (id 2) (at 54.61 78.74 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (id 3) (at 54.61 78.74 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 6f60e324-72a3-4282-8580-dad93cf31c5f))
  )

  (symbol (lib_id "Device:Crystal_GND2_Small") (at 60.325 77.47 270) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid 0567dae1-cf2c-438a-99dc-8576c8bfdd09)
    (property "Reference" "Y2" (id 0) (at 51.435 69.85 90)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "32.7680kHz" (id 1) (at 51.435 72.39 90)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Crystal:Crystal_AT310_D3.0mm_L10.0mm_Vertical" (id 2) (at 60.325 77.47 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 60.325 77.47 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid a0a149d8-b840-4f9c-acc4-684f7449df6a))
    (pin "2" (uuid 985fdb4e-025c-4ab7-8c14-94e7fe05a34b))
    (pin "3" (uuid 8cab096b-6407-4df1-91d2-2c2e764f4974))
  )

  (symbol (lib_id "power:+3V3") (at 98.425 78.105 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 6201f353-a12c-4291-b5f8-72be16100336)
    (property "Reference" "#PWR060" (id 0) (at 98.425 81.915 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "+3V3" (id 1) (at 98.425 72.39 0))
    (property "Footprint" "" (id 2) (at 98.425 78.105 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (id 3) (at 98.425 78.105 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 3d6078c3-9d60-4737-8d88-60ab8b9bce4e))
  )

  (symbol (lib_id "power:GND") (at 72.39 95.25 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 8fb7546e-3b6e-459d-a86e-108776492e83)
    (property "Reference" "#PWR059" (id 0) (at 72.39 101.6 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (id 1) (at 72.39 100.33 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Footprint" "" (id 2) (at 72.39 95.25 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (id 3) (at 72.39 95.25 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 09e50fc8-fe43-4168-b074-524c4c3b5c73))
  )

  (symbol (lib_id "My_custom_lib:MCP79412") (at 87.63 80.645 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 915afd34-85f2-4f65-b2f6-5c607c325148)
    (property "Reference" "U6" (id 0) (at 87.63 67.31 0))
    (property "Value" "MCP79412" (id 1) (at 87.63 69.85 0))
    (property "Footprint" "Package_SO:TSSOP-8_4.4x3mm_P0.65mm" (id 2) (at 88.9 69.215 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "https://ro.mouser.com/datasheet/2/268/22266A-47240.pdf" (id 3) (at 88.9 73.025 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 004d701c-7e69-4a10-9c95-7de04fa2be20))
    (pin "2" (uuid d9e49fc4-46fe-482b-8906-61af7c1472eb))
    (pin "3" (uuid a3c320b8-4eef-49ac-b336-329b66e86bef))
    (pin "4" (uuid 4ad4b122-59d5-4232-8523-59915ddbd9d1))
    (pin "5" (uuid f7f4a858-5dd0-45b8-96db-a2ada69019ef))
    (pin "6" (uuid eb6fd056-8f4f-49ff-8c38-0d5402a7e363))
    (pin "7" (uuid db41e836-6945-404a-8e36-2d5f7579c882))
    (pin "8" (uuid c07aea70-6106-44bf-96ff-8e775e4243b1))
  )

  (symbol (lib_id "Device:Battery_Cell") (at 64.77 88.9 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid f089a10f-ab92-4d91-a95d-8c34b6800ca6)
    (property "Reference" "BT2" (id 0) (at 68.58 85.5979 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "Battery_Cell" (id 1) (at 68.58 88.1379 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Z_mycustom_footprint_lib:BATHLD001THM" (id 2) (at 64.77 87.376 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 64.77 87.376 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid aaf5283a-c22d-4b03-a805-070b14b8cb76))
    (pin "2" (uuid b49f564c-98fb-412a-addf-30790a07cc53))
  )
)
